# =============================================================================
# Proxy Environment Configuration
# =============================================================================

# Routing mode - determines which Caddyfile to use
# Options:
#   subdomain - Managed deployment with wildcard DNS (*.gitterm.dev)
#   railway   - Unified Railway template (all services behind one domain)
#   path      - Path-based workspace routing only
ROUTING_MODE=subdomain

# Internal API key for forward_auth to server
# Must match INTERNAL_API_KEY in server's .env
INTERNAL_API_KEY=dev-internal-key

# =============================================================================
# Backend Service URLs (Railway internal networking)
# =============================================================================
# These use Railway's private networking by default.
# Only needed for 'railway' routing mode.

# API Server (handles auth, tRPC, device routes)
SERVER_URL=server.railway.internal:8080

# Web App (Next.js frontend)
WEB_URL=web.railway.internal:8080

# Listener (SSE/tRPC for real-time updates)
LISTENER_URL=listener.railway.internal:8080

# Tunnel Proxy (agent connections and workspace traffic)
TUNNEL_PROXY_URL=tunnel.railway.internal:8080
