PORT=3000

# =============================================================================
# DEPLOYMENT MODE
# =============================================================================
# Controls self-hosted vs managed mode features
#
# self-hosted: No billing, no quotas, flexible providers (default)
# managed: Full billing via Polar, quota enforcement, Railway provider
#
# DEPLOYMENT_MODE=self-hosted
# DEPLOYMENT_MODE=managed
# =============================================================================

DEPLOYMENT_MODE=self-hosted

# =============================================================================
# COMPUTE PROVIDERS
# =============================================================================
# Comma-separated list of enabled compute providers
# Available: railway, local, docker (coming soon), kubernetes (coming soon)
#
# Self-hosted example: ENABLED_PROVIDERS=docker,local
# Managed example: ENABLED_PROVIDERS=railway,local
# =============================================================================

ENABLED_PROVIDERS=local
DEFAULT_PROVIDER=local

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Override automatic feature detection based on deployment mode
# Set to "true" or "false" to explicitly enable/disable
#
# ENABLE_BILLING=true              # Polar billing integration
# ENABLE_QUOTA_ENFORCEMENT=true    # Daily usage limits
# ENABLE_IDLE_REAPING=true         # Stop idle workspaces
# ENABLE_USAGE_METERING=true       # Track workspace usage
# ENABLE_DISCORD_NOTIFICATIONS=true # Discord signup notifications
# ENABLE_MULTI_REGION=true         # Multi-region support
# ENABLE_CUSTOM_SUBDOMAINS=true    # Custom workspace subdomains
# ENABLE_LOCAL_TUNNELS=true        # Local tunnel support
# ENABLE_GITHUB_AUTH=true          # GitHub OAuth (auto-detected from GITHUB_CLIENT_ID)
# ENABLE_EMAIL_AUTH=true           # Email/password auth
# =============================================================================

# =============================================================================
# LOCAL DEVELOPMENT SETUP
# =============================================================================
#
# For local development, use Caddy as a reverse proxy on port 8888.
# All services are accessible via paths on a single domain (localhost:8888).
# Cloud workspaces (Railway) use their direct backend URLs.
#
# BASE_URL=http://localhost:8888
# BASE_DOMAIN=localhost
# BETTER_AUTH_URL=http://localhost:8888/api
# CORS_ORIGIN=http://localhost:8888
#
# For production (subdomain routing):
# BASE_DOMAIN=gitterm.dev
# =============================================================================

# Base URL for local dev (all services behind single entry point)
BASE_URL=http://localhost:8888

# Base domain for workspace subdomain routing
BASE_DOMAIN=localhost:3000

BETTER_AUTH_SECRET=

BETTER_AUTH_URL=

# For local dev with Caddy proxy, set to: http://localhost:8888
CORS_ORIGIN=

DATABASE_URL=

# For local dev with Caddy proxy, use: dev-internal-key
# This must match the INTERNAL_API_KEY in Caddyfile.local
INTERNAL_API_KEY=

# =============================================================================
# POLAR BILLING (Managed Mode Only)
# =============================================================================
# Get these from your Polar organization settings
# https://polar.sh/docs/integrate/sdk/adapters/better-auth
#
# POLAR_ENVIRONMENT=sandbox   # or "production"
# =============================================================================

POLAR_ACCESS_TOKEN=
POLAR_WEBHOOK_SECRET=
POLAR_ENVIRONMENT=sandbox

# Product IDs from Polar Dashboard
POLAR_TUNNEL_PRODUCT_ID=
POLAR_PRO_PRODUCT_ID=
POLAR_ENTERPRISE_PRODUCT_ID=

# =============================================================================
# RAILWAY PROVIDER (Required if ENABLED_PROVIDERS includes "railway")
# =============================================================================

RAILWAY_API_URL=
RAILWAY_API_TOKEN=
RAILWAY_PROJECT_ID=
RAILWAY_ENVIRONMENT_ID=
RAILWAY_DEFAULT_REGION=us-east4-eqdc4a

# Use internal Railway networking (production) or public URLs (development)
PUBLIC_RAILWAY_DOMAINS=false

# =============================================================================
# AUTHENTICATION
# =============================================================================

GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

GITHUB_APP_PRIVATE_KEY=
GITHUB_APP_ID=

# =============================================================================
# LOCAL TUNNELS & AGENT
# =============================================================================

TUNNEL_JWT_SECRET=
AGENT_JWT_SECRET=
DEVICE_CODE_VERIFICATION_URI=

# =============================================================================
# INFRASTRUCTURE
# =============================================================================

REDIS_URL=

# =============================================================================
# NOTIFICATIONS (Managed Mode Only)
# =============================================================================

DISCORD_TOKEN=
DISCORD_DM_CHANNEL_ID=
