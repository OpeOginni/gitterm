# =============================================================================
# SERVER ENVIRONMENT CONFIGURATION
# =============================================================================

PORT=3000

# =============================================================================
# DEPLOYMENT MODE
# =============================================================================
# self-hosted: No billing, no quotas, providers managed via admin panel (default)
# =============================================================================

DEPLOYMENT_MODE=self-hosted

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# These flags allow customization of self-hosted deployments.
ENABLE_IDLE_REAPING=true        # Stop idle workspaces automatically

# =============================================================================
# URLs
# =============================================================================

# Base URL for the application
BASE_URL=http://localhost:8888
BASE_DOMAIN=localhost:8888
CORS_ORIGIN=http://localhost:8888
BETTER_AUTH_URL=http://localhost:8888/api
# Better Auth secret key (generate with: openssl rand -base64 32)
BETTER_AUTH_SECRET=
API_URL=http://localhost:8888/api


# =============================================================================
# DATABASE & REDIS
# =============================================================================

# PostgreSQL connection string
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/gitterm

# Redis connection string
REDIS_URL=redis://localhost:6379

# =============================================================================
# INTERNAL API
# =============================================================================

# Internal API key for service-to-service communication
# Must match INTERNAL_API_KEY in other services and Caddyfile
INTERNAL_API_KEY=dev-internal-key

# =============================================================================
# AUTHENTICATION
# =============================================================================

# Admin Bootstrap (Email Auth)
# Creates an admin user on first startup when email auth is enabled.
# Both must be set together, or neither.
ADMIN_EMAIL=
ADMIN_PASSWORD=

# GitHub OAuth (required if ENABLE_GITHUB_AUTH=true)
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# GitHub App (optional - for repo access, both required or neither)
GITHUB_APP_ID=
GITHUB_APP_PRIVATE_KEY=

ROUTING_MODE=path

ENCRYPTION_MASTER_KEY=

# URL shown during device code authentication
DEVICE_CODE_VERIFICATION_URI=http://localhost:8888/verify
